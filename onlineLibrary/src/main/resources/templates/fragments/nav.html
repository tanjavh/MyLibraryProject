<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<body>
<nav>
  <ul>
    <!-- Index - samo anonimni korisnici -->
    <li sec:authorize="isAnonymous()">
      <a th:href="@{/}">Index</a>
    </li>

    <!-- Home - svi ulogovani korisnici -->
    <li sec:authorize="isAuthenticated()">
      <a th:href="@{/home}">Home</a>
    </li>

    <!-- Knjige - svi ulogovani korisnici -->
    <li sec:authorize="isAuthenticated()">
      <a th:href="@{/books}">Knjige</a>
    </li>

    <!-- Moje pozajmice -->
    <li sec:authorize="isAuthenticated()">
      <a th:href="@{/loans/active}">Moje pozajmice</a>
    </li>

    <!-- Korisnici - samo admin -->
    <li sec:authorize="hasRole('ADMIN')">
      <a th:href="@{/users}">Korisnici</a>
    </li>

    <!-- Sve pozajmice - samo admin -->
    <li sec:authorize="hasRole('ADMIN')">
      <a th:href="@{/loans/all}">Sve pozajmice</a>
    </li>

    <!-- Login i Register - anonimni korisnici -->
    <li sec:authorize="isAnonymous()">
      <a th:href="@{/users/login}">Login</a>
    </li>
    <li sec:authorize="isAnonymous()">
      <a th:href="@{/users/register}">Register</a>
    </li>

    <!-- Izmena korisničkog imena - svi ulogovani -->
    <li sec:authorize="isAuthenticated()">
      <a th:href="@{/users/profile/edit}">Izmeni korisničko ime</a>
    </li>

    <!-- Logout - ulogovani korisnici -->
    <li sec:authorize="isAuthenticated()">
      <form th:action="@{/logout}" method="post" style="display:inline">
        <button type="submit">Logout</button>
      </form>
    </li>
  </ul>
</nav>
</body>
</html>
