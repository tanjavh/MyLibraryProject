<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<body>

<nav>
  <ul>

    <!-- Index â€“ samo anonimni -->
    <li sec:authorize="isAnonymous()">
      <a th:href="@{/}" th:text="#{nav.index}">Index</a>
    </li>

    <!-- Home â€“ ulogovani -->
    <li sec:authorize="isAuthenticated()">
      <a th:href="@{/home}" th:text="#{nav.home}">Home</a>
    </li>

    <!-- Knjige -->
    <li sec:authorize="isAuthenticated()">
      <a th:href="@{/books}" th:text="#{nav.books}">Knjige</a>
    </li>

    <!-- Moje pozajmice -->
    <li sec:authorize="isAuthenticated()">
      <a th:href="@{/loans/active}" th:text="#{nav.loans}">Moje pozajmice</a>
    </li>

    <!-- Korisnici â€“ ADMIN -->
    <li sec:authorize="hasRole('ADMIN')">
      <a th:href="@{/users}" th:text="#{nav.users}">Korisnici</a>
    </li>

    <!-- Sve pozajmice â€“ ADMIN -->
    <li sec:authorize="hasRole('ADMIN')">
      <a th:href="@{/loans/all}" th:text="#{nav.loans.all}">Sve pozajmice</a>
    </li>

    <!-- Login / Register â€“ anonimni -->
    <li sec:authorize="isAnonymous()">
      <a th:href="@{/users/login}" th:text="#{nav.login}">Login</a>
    </li>

    <li sec:authorize="isAnonymous()">
      <a th:href="@{/users/register}" th:text="#{nav.register}">Register</a>
    </li>

    <!-- Izmena korisniÄkog imena -->
    <li sec:authorize="isAuthenticated()">
      <a th:href="@{/users/profile/edit}" th:text="#{nav.profile}">Izmeni korisniÄko ime</a>
    </li>

    <!-- JEZIK (desno) -->
    <li style="float:right;">
      <a th:href="@{?lang=sr}">ğŸ‡·ğŸ‡¸ SR</a> |
      <a th:href="@{?lang=en}">ğŸ‡¬ğŸ‡§ EN</a>
    </li>

    <!-- Logout -->
    <li sec:authorize="isAuthenticated()">
      <form th:action="@{/logout}" method="post" style="display:inline">
        <button type="submit" th:text="#{nav.logout}">Logout</button>
      </form>
    </li>

  </ul>
</nav>

</body>
</html>
